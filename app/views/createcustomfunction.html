<md-dialog aria-label='Edit utility functions' class="sin-function-dialog">
    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>Edit utility functions</h2> 
        </div>
    </md-toolbar>
    <md-dialog-content>
        <div class="content-stuff utility-functions" layout="row">
            <md-content class="sin-functions-list" layout="column" md-scroll-y>
                <md-button ng-click="$parent.selectedCustomFunction = function" ng-repeat="function in functionsList" ng-disabled="function == $parent.selectedCustomFunction">{{function.name}}
                    <md-button ng-if="function == $parent.selectedCustomFunction" class="button-tight" aria-label="Delete this function" ng-click="removeCustomFunct(selectedCustomFunction)">
                        <i class="fa fa-minus-circle"></i>
                        <md-tooltip>Delete this function</md-tooltip>
                    </md-button>
                    <span ng-if="function.nameWarning">
                        <i class="fa fa-warning"></i>
                        <md-tooltip>A function already exists with the same name</md-tooltip>
                    </span>
                </md-button>
                <span flex></span>
                <md-button class="md-raised md-primary" ng-click="createNewFunct()" style="flex-shrink: 0" >
                    <i class="fa fa-plus"></i>
                </md-button>
            </md-content>
            <div flex layout="column">
                <!-- <md-content flex> -->
                    <div class="code-mirror-container" flex style="font-size:1.3em;">
                        <ui-codemirror ng-model="selectedCustomFunction.clojureCode" ui-codemirror-opts="codemirrorOpts"></ui-codemirror>
                    </div>
                    <!-- <md-button class="md-padding md-raised" ng-click="saveCustomFunct()" aria-label="Save function">Save function</md-button> -->
                <!-- </md-content> -->
                <md-toolbar class="md-actions" layout="row" layout-align="right">
                    <md-button ng-click="applyCustomFunctionChanges()" aria-label="Apply custom function changes">Done</md-button>
                    <md-button ng-click="cancelCustomFunctionChanges()"  aria-label="Cancel changes to custom functions">Cancel</md-button>
                </md-toolbar>
            </div>
        </div>
    </md-dialog-content>
</md-dialog>