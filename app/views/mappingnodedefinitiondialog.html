<md-dialog aria-label='Choose mapping node...' class="sin-function-dialog">
  <md-dialog-content class="sticky-container">
    <md-tabs class="md-primary no-border-radius sin-mapping-tabs" flex md-no-disconnect md-swipe-content="" ng-model="dialogState.selectedTab" ng-change="changeType()" md-dynamic-height md-selected="dialogState.selectedTab">
      <md-tab label="URI node" md-on-select="changeType()">
        <md-tab-body>
          <div class="md-padding" layout="column">
            <!--
<label>Select mapping source type</label>
-->
            <md-select ng-model="dialogState.mappingType" placeholder="Choose a type..." required ng-change="changeType()" ng-hide="hideSelect">
              <md-option value="dataset-col">From dataset column</md-option>
              <md-option value="free-defined">Free-defined text</md-option>
            </md-select>
            <md-input-container flex ng-if="dialogState.mappingType=='dataset-col'">
              <label>Select node prefix</label>
              <input ng-model="newNode.prefix" type="text">
            </md-input-container>
            <md-input-container flex ng-if="dialogState.mappingType=='dataset-col'">
              <label>Select column</label>
              <input ng-model="newNode.column" type="text">
            </md-input-container>
            <!--
<md-input-container flex ng-if="dialogState.mappingType=='free-defined'">
<label>Node URI</label>
<input ng-model="newNode.constant" type="text">
</md-input-container>
-->
            <div class="modal-dialog animate-switch-container" ng-switch on="selection" ng-if="dialogState.mappingType=='free-defined'">
              <div class="modal-content animate-switch" ng-switch-default>
                <div layout="row" >
                  <md-input-container flex class="sin-no-shrink">
                    <label>Property name</label>
                    <input ng-model="propertyValue.value" type="text" required>
                    <div ng-messages="graphsForm.propertyName.$error">
                      <div ng-message="required">Property name is required.</div>
                      <div ng-message="pattern">Not a valid property name.</div>
                    </div>
                  </md-input-container>
                  <!--
<div ng-controller="DemoCtrl as ctrl" flex = "80">
<md-autocomplete
md-selected-item="ctrl.selectedItem" 
md-search-text="ctrl.searchText" 
md-items="item in ctrl.querySearch(ctrl.searchText)" 
md-item-text="item.display" 
md-selected-item-change="ctrl.selectedItemChange(item)"
md-floating-label ="Property name">
<md-item-template>
<span md-highlight-text="ctrl.searchText">{{item.display}}</span>
</md-item-template>
</md-autocomplete>

</div>	
-->	
                  <md-button class="md-icon-button fa fa-search" ng-click="search(propertyValue.value)" aria-label="Search for value">
                  </md-button>
                  <md-button class="md-icon-button fa fa-database" ng-click="switchToManageDialog()" aria-label="Go to vocabulary management">
                  </md-button>
                </div>

                <div ng-show="hideValue">
                  <md-list>
                    <md-list-item  ng-repeat="item in itemslocal | startFrom:currentPage*pageSize | limitTo:pageSize">
                      <p> {{ item }} </p>
                      <md-button class="md-primary md-icon-button fa fa-plus" ng-click="addResult(item)" aria-label="Use property"></md-button>	
                    </md-list-item>
                  </md-list>

                  <md-button class="md-icon-button fa fa-angle-double-left"  ng-disabled="currentPage == 0" ng-click="currentPage=0" aria-label="Go to first page">
                  </md-button>
                  <md-button class="md-icon-button fa fa-angle-left" ng-disabled="currentPage == 0" ng-click="currentPage=currentPage-1"  aria-label="Go to previous page">
                  </md-button>
                  <label>{{currentPage + 1}}</label>
                  <md-button class="md-icon-button fa fa-angle-right" ng-disabled="currentPage >= numberOfPages() - 1" ng-click="currentPage=currentPage+1" aria-label="Go to next page">
                  </md-button>
                  <md-button class="md-icon-button fa fa-angle-double-right" ng-disabled="currentPage >= numberOfPages() - 1" ng-click="currentPage=numberOfPages() - 1" aria-label="Go to last page">
                  </md-button>
                  <label>total: {{numberOfPages()}}</label>
                </div>
              </div>

              <div class="modal-content animate-switch" ng-switch-when="manageDialog">	
                <md-button class="md-icon-button fa fa-arrow-left" ng-click="switchToSearchDialog()" aria-label="Go to search dialog">	
                </md-button>
                <md-button class="md-icon-button fa fa-plus" ng-click="switchToAddDialog()" aria-label="Go to management dialog">
                </md-button>

                <div>
                  <md-list>
                    <md-list-item ng-click="" ng-repeat="item in VocabItems | startFrom:currentPage*pageSize | limitTo:pageSize">
                      <p> {{ item }} </p>
                      <md-button class="fa fa-trash md-icon-button md-primary" ng-click="deleteItem(item, item.namespace)" aria-label="Delete item"></md-button>
                    </md-list-item>

                    <md-list-item ng-click="" ng-repeat="item in VocabItemsServer | startFrom:currentPage*pageSize | limitTo:pageSize">
                      <p> {{ item }} </p>
                      <md-button class="fa  md-icon-button md-primary" ng-click="deleteItem(item.name, item.namespace)" aria-label="Delete item"></md-button>
                    </md-list-item>
                  </md-list>

                  <md-button class="md-icon-button fa fa-angle-double-left"  ng-disabled="currentPage == 0" ng-click="currentPage=0" aria-label="Go to first page">
                  </md-button>
                  <md-button class="md-icon-button fa fa-angle-left" ng-disabled="currentPage == 0" ng-click="currentPage=currentPage-1" aria-label="Go to previous page">
                  </md-button>
                  <label>{{currentPage + 1}}</label>
                  <md-button class="md-icon-button fa fa-angle-right" ng-disabled="currentPage >= numberOfPages() - 1" ng-click="currentPage=currentPage+1" aria-label="Go to next page">
                  </md-button>
                  <md-button class="md-icon-button fa fa-angle-double-right" ng-disabled="currentPage >= numberOfPages() - 1" ng-click="currentPage=numberOfPages() - 1" aria-label="Go to last page">
                  </md-button>
                  <label>total: {{numberOfPages()}}</label>
                </div>
              </div>

              <div class="modal-content animate-switch" ng-switch-when="addVocabDialog">
                <md-input-container>
                  <label>Vocabulary Name</label>
                  <input value="foaf" type="text" class="form-control" placeholder="Name" ng-model="vocabName" required/>
                  <div ng-messages="graphsForm.propertyName.$error" >
                    <div ng-message="required">vocabulary name is required.</div>
                    <div ng-message="pattern">Not a valid vocabulary name.</div>
                  </div>
                </md-input-container>
                <md-input-container>
                  <label>Namespace</label>
                  <input type="text" placeholder="Prefix" ng-model="vocabPrefix" required/>
                  <div ng-messages="graphsForm.propertyName.$error" >
                    <div ng-message="required">vocabulary namespace is required.</div>
                    <div ng-message="pattern">Not a valid vocabulary namespace.</div>
                  </div>
                </md-input-container>

                <md-switch ng-model="data.cb" aria-label="Switch 1" ng-change="onChange(data.cb)">
                </md-switch>

                <div ng-controller="FileTestCtrl" ng-show="localPath">
                  <div class="dropzone" file-dropzone="" file="text" file-name="fileName">
                    <span>Drop File Here</span>
                  </div>
                  <span>{{fileName.value}}</span>
                </div>

                <md-input-container ng-hide="localPath">
                  <label>Remote Path</label>
                  <input type="text" ng-model="vocabLoc" required/>
                  <div ng-messages="graphsForm.propertyName.$error" >
                    <div ng-message="required">vocabulary path is required.</div>
                    <div ng-message="pattern">Not a valid vocabulary path.</div>
                  </div>
                </md-input-container>

                <div class="md-actions" layout="row" layout-align="right">
                  <md-button class="md-primary" ng-click="addVocabToTable(vocabName, vocabPrefix, vocabLoc)" aria-label="Add to vocabulary">Add</md-button>
                  <md-button class="md-primary" ng-click="switchToManageDialog()" aria-label="Cancel changes to vocabulary">Cancel</md-button>
                </div>
              </div>
            </div>

          </div>
        </md-tab-body>
      </md-tab>
      <md-tab label="Literal node" md-on-select="changeType()">
        <md-tab-body>
          <div class="md-padding">
            <label>Select mapping source type</label>
            <md-select ng-model="dialogState.mappingType" placeholder="Choose a type..." required ng-change="changeType()">
              <md-option value="dataset-col">From dataset column</md-option>
              <md-option value="free-defined">Free-defined text</md-option>
            </md-select>
            <md-input-container flex ng-if="dialogState.mappingType=='free-defined'">
              <label>Literal value</label>
              <input ng-model="newNode.literalValue" type="text">
            </md-input-container>
            <md-input-container flex ng-if="dialogState.mappingType=='dataset-col'">
              <label>Select column</label>
              <input ng-model="newNode.literalValue" type="text">
            </md-input-container>
          </div>
        </md-tab-body>
      </md-tab>
      <md-tab label="Blank node" md-on-select="changeType()">
        <md-tab-body>
        </md-tab-body>
      </md-tab>

    </md-tabs>

  </md-dialog-content>
  <div class="md-actions" layout="row" layout-align="right">
    <md-button class="md-primary" ng-click="addNode()" aria-label="{{isCreate ? 'Create' : 'Edit'}} node">{{isCreate ? 'Create' : 'Edit'}} node</md-button>
    <md-button class="md-primary" ng-click="closeDialog()" aria-label="Cancel changes to node">Cancel</md-button>
  </div>
</md-dialog>