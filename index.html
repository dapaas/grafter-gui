<html>
    <head>
        <title>DaPaaS Data Transformation GUI</title>
        <script src="./js/jquery-1.11.1.min.js"></script>
        <script src="./js/jquery-ui.min.js"></script>
        <script src='./js/jsedn.js'></script>
        <script src='./js/grafter-code-generator.js'></script>
        <script src='./js/grafter-gui-elements.js'></script>
        <script src='./js/jquery.appendGrid-1.5.0.min.js'></script>
        <script src='./js/codemirror-compressed.js'></script>
        <script src='./js/jstree.min.js'></script>
        <script src='./js/rdfisation-ui-control.js'></script>

        <link rel="stylesheet" href="./js/themes/default/style.min.css" />
        <link rel="stylesheet" href="./css/jquery-ui.min.css"/> 
        <link rel="stylesheet" href="./css/jquery.appendGrid-1.5.0.min.css"/>
        <link rel="stylesheet" href="./css/grafter-gui.css"/>
        <link rel="stylesheet" href="./css/font-awesome.min.css"/>

        <!--        <link rel="stylesheet"  href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/themes/smoothness/jquery-ui.min.css">-->
        <link rel="stylesheet" href="http://codemirror.net/lib/codemirror.css"/>
    </head>
    <body>

        <div id="dialog-pipeline-main" title="Choose pipeline function type...">
            <form id="function-selection-form">
                <label class= "form-label" for="pipeline-functions">Function type:</label>
                <select name="pipeline-functions" id="pipeline-functions">
                    <option value="please-choose" selected disabled>Please choose function...</option>
                    <optgroup label="Grafter functions">
                        <option value="derive-column" data-class="ui-icon-script">derive-column</option>
                        <option value="drop-rows" data-class="ui-icon-script">drop-rows</option>
                        <option value="make-dataset" data-class="ui-icon-script">make-dataset</option>
                        <option value="mapc" data-class="ui-icon-script">mapc</option>
                    </optgroup>
                    <option value="add-custom-code" data-class="ui-icon-script">Add custom code...</option>
                </select>
            </form>

            <form id="function-specific-form">

            </form>
        </div>
        <div id="dialog-pipeline-prefixers" title="Choose pipeline function type...">
            <div id="dialog-confirm-prefixes"></div>
            <table id="prefix-table"></table>
        </div>
        <div id="dialog-confirm"></div>
        <div style="width: 30%; margin-left: auto; margin-right: auto;">
            <button id="edit-prefixers" style="width:100%;">Edit prefixes...</button>
            <button id="create-custom-func" style="width:100%;">Create custom function...</button>
            <br/><br/>
            <!--            <label class= "form-label" for="pipeline">Grafter pipeline</label>-->
            <table id="pipeline">
                <tr id="addElementAtEndRow">
                    <td style="width:20%"></td>

                    <td style="text-align:center;">
                        <i id="pipelineAddAtEnd" class="fa fa-plus-circle fa-2x"></i>
                    </td>
                    <td style="width:20%"></td>
                </tr>
            </table>
            <br/>
            <button id="generate-code" style="width:100%;">Preview Grafter pipeline...</button>
            <button id="open-rdf-dialog" style="width:100%;">Modify RDF mapping...</button>
            <br/><br/>
            <textarea id="output" rows="50" cols ="120" style="display: none;"></textarea>
        </div>
        <div id="dialog-create-custom-function" title="Create a custom Clojure function...">
            <form id="custom-function-selection">
                <select name="custom-functions" id="custom-functions">

                    <option value="create-new-func" data-class="ui-icon-script" selected>Create new function...</option>
                    <optgroup id="custom-funct-options" label="Available custom functions">
                    </optgroup>

                </select>
                <label class= "form-label" for="custom-function-code">Code:</label>
                <textarea id="custom-function-code" rows="50" cols ="120" style="display: none;"></textarea>
                <br>
                <button id="save-function">Save</button>
                <button id="delete-function" style="display:none;">Delete</button>
            </form>
        </div>

        <div id="rdf-graph-definition"></div>

        <div id="dialog-rdf-mapping">
            <div id="rdf-control-div">
            </div>
            <form id="graph-functions">
                <button id="preview-rdf-mapping-button" style="display:none;">Preview RDF mapping</button>
                <br/>
                <button id="save-rdf-mapping-button">Save</button>
            </form>

        </div>
        </div>
    <div id="dialog-define-graph-node">
        <table id="define-graph-node-layout-table">
            <tr>
                <td class="define-graph-node-left">
                    <form id="graph-node-type">
                        <!-- -->
                        <input id="uri-radio" type="radio" name="node-type-radio" value="uri">
                        <label class="radio-button-label" for="uri-radio">URI node</label>
                        <br/>
                        <input id="literal-radio" type="radio" name="node-type-radio" value="literal">
                        <label class="radio-button-label" for="literal-radio">Literal node</label>
                        <br/>
                        <input id="blank-radio"type="radio" name="node-type-radio" value="blank">
                        <label class="radio-button-label" for="blank-radio">Blank node</label>
                        <br/>

                    </form>
                </td>
                <td class="define-graph-node-right" style="display:none;">
                    <form id="form-uri-node" style="display:none;">
                        <label class="define-graph-form-label" for="uri-node-prefixer">Select node prefix:</label>
                        <select name="uri-node-prefixer" id="uri-node-prefixer" class="form-uri-node-select">

                            <option value="default-uri-prefix" data-class="ui-icon-script" selected>(base graph URI)</option>
                            <optgroup id="custom-funct-options" label="Available prefixes">
                            </optgroup>

                        </select>
                        <hr>
                        <label class="define-graph-form-label" for="uri-node-val-src">Select mapping source:</label>
                        <select name="uri-node-val-src" id="uri-node-val-src" class="form-uri-node-select">
                            <option value="uri-node-val-src-column" data-class="ui-icon-script" selected>
                                From dataset column
                            </option>
                            <option value="uri-node-val-src-text" data-class="ui-icon-script">
                                Free-defined text
                            </option>
                        </select>
                        
                        <br/><br/>
                        
                        <div id="uri-node-val-column-elements">
                            <label class="define-graph-form-label" for="uri-node-val-column">Choose column:</label>
                            <input type="text" name="uri-node-val-column">
                        </div>
                        
                        <div id="uri-node-val-text-elements" style="display:none;">
                            <label class="define-graph-form-label" for="uri-node-val-text">Type in node URI:</label>
                            <input type="text" name="uri-node-val-text">
                        </div>
                    </form>

                    <form id="form-literal-node" style="display:none;">

                        <label class="define-graph-form-label" for="uri-literal-val-src">Select mapping source:</label>
                        <select name="literal-node-val-src" id="literal-node-val-src">
                            <option value="literal-node-val-src-column" data-class="ui-icon-script" selected>
                                From dataset column
                            </option>
                            <option value="literal-node-val-src-text" data-class="ui-icon-script">
                                Free-defined text
                            </option>
                        </select>
                        
                        <br/><br/>
                        
                        <div id="literal-node-val-column-elements">
                            <label class="define-graph-form-label" for="uri-node-val-column">Choose column:</label>
                            <input type="text" name="uri-literal-val-column">
                        </div>
                        
                        <div id="literal-node-val-text-elements" style="display:none;">
                            <label class="define-graph-form-label" for="uri-literal-val-text">Type in literal text:</label>
                            <input type="text" name="uri-node-val-literal">
                        </div>

                    </form>

                    <!-- Blank nodes don't need additional things to be defined -->

                </td>
            </tr>
        </table>
    </div>

    </body>
</html>